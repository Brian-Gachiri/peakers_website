{% extends 'admin/layouts/admin-base.html' %}

{% block 'content' %}

<div class="container-fluid">

    <h3 class="text-center text-main font-weight-bold">Dashboard</h3>
    
    <div class="row justify-content-center mt-3">


        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card  mt-1">
                <div class="card-body text-center ">
                    <p class="text-main"><i class="fa fa-clipboard fa-2x"></i></p>
                    <p class="mx-3"> All articles</p>
                    <p class="mx-3"> {{posts | length}}</p>

                </div>
            </div>
        </div>

        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card  mt-1">
                <div class="card-body text-center ">
                    <p class="text-main"><i class="fa fa-code-fork fa-2x"></i></p>
                    <p class="mx-3"> All projects</p>
                    <p class="mx-3"> {{posts | length}}</p>

                </div>
            </div>
        </div>  

        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card mt-1">
                <div class="card-body text-center">
                    <p class="text-main"><i class="fa fa-comments fa-2x"></i></p>
                    <p class="mx-3">All Messages</p>
                    <p class="mx-3">{{categories | length}}</p>


                </div>
            </div>
        </div>

        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card mt-1">
                <div class="card-body text-center">
                    <p class="text-main"><i class="fa fa-eye fa-2x"></i></p>
                    <p class="mx-3">Total Views</p>
                    <p class="mx-3">{{posts | length}}</p>


                </div>
            </div>
        </div>



        
    </div>

    <div class="row justify-content-center my-5">

        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <h6 class="ml-3 my-auto">Recent Articles</h6>
                        <a href="{% url 'add_article' %}" class="btn btn-text-main btn-sm ml-auto mr-1">
                            <i class="fa fa-plus-circle mr-1"></i>
                            CREATE ARTICLE
                        </a>
                    </div>
                </div>
                <div class="card-body">

                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <td>Id</td>
                                <td>Title</td>
                                <td>Views</td>
                                <td>User</td>
                                <td>Created At</td>
                                <td>Actions</td>
                            </tr>
                        </thead>
                        <tbody>

                            {% for post in posts %}

                            <tr>
                                <td>{{post.id}}</td>
                                <td>{{post.title}}</td>
                                <td>{{post.views}}</td>
                                <td>{{post.user}}</td>
                                <td>{{post.created_at}}</td>
                                <td>
                                    <a href="{% url 'view_article' post.id %}" class="btn btn-main btn-sm">
                                        <i class="fa fa-eye"></i>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}


                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-12 mt-5">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <h6 class="ml-3 my-auto">Article Categories</h6>
                        <a href="{% url 'add_category' %}" class="btn btn-text-main btn-sm ml-auto mr-1">
                            <i class="fa fa-plus-circle mr-1"></i>
                            ADD CATEGORY
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <td>Id</td>
                                <td>Name</td>
                                <td>Views</td>
                                <td>Created At</td>
                                <td>Actions</td>
                            </tr>
                        </thead>
                        <tbody>
    
                            {% for category in categories %}
    
                            <tr>
                                <td>{{category.id}}</td>
                                <td>{{category.name}}</td>
                                <td>{{category.views}}</td>
                                <td>{{category.created_at}}</td>
                                <td>
                                    <a href="{% url 'delete_category' category.id %}" class="btn btn-danger btn-sm">
                                        <i class="fa fa-trash"></i>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
    
    
                        </tbody>
                    </table>
                    
                </div>
            </div>
        </div>

        <div class="col-lg-12 mt-5">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <h6 class="ml-3 my-auto">Messages</h6>
                        
                    </div>
                </div>
                <div class="card-body">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <td>Id</td>
                                <td>Email</td>
                                <td>Message</td>
                                <td>Post At</td>
                                <td>Action</td>
                            </tr>
                        </thead>
                        <tbody>

                            {% for feedback in feedback_list %}

                            <tr>
                                <td>{{feedback.id}}</td>

                                <td>{{feedback.email}}</td>
                                <td>{{feedback.message}}</td>
                                <td>{{feedback.created_at}}</td>
                                <td>
                                    <a href="#" class="btn btn-main btn-sm">
                                        <i class="fa fa-envelope"></i>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}


                        </tbody>
                    </table>
                   
                    
                </div>
            </div>
        </div>

    
    </div>

  

    
</div>



{% endblock %}